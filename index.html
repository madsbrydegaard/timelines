<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Timeline Demo</title>
		<style>
			html,
			body {
				height: 100%;
				margin: 0;
				padding: 0;
			}
			.tl__labels {
				box-sizing: border-box;
				border-top: 1px solid black;
				border-bottom: 1px solid black;
			}
			.tl__divider {
				border-left: 1px dashed gray;
			}
		</style>
	</head>
	<body>
		<div id="timeline" style="height: 100%; max-height: 400px"></div>
		<pre><code id="log" style="height: 300px; overflow: auto; display: block;"></code></pre>
		<script src="../dist/timelines.umd.js"></script>
		<script>
			let log = [];
			const timelineContainer = document.querySelector("#timeline");
			const logElement = document.querySelector("#log");
			const events = ["pinch.tl.container", "wheel.tl.container", "drag.tl.container", "click.tl.event"];

			events.forEach((eventName) => {
				timelineContainer.addEventListener(eventName, (timelineEvent) => {
					log.unshift(timelineEvent.detail.name);
					if (log.length > 20) log.pop();
					logElement.innerHTML = log.join("\n");
				});
			});

			const image = new Image();
			image.src = "100px-Gorm-the-old.jpg";
			const data = {
				name: "Den danske kongerække",
				events: [
					{
						start: [936],
						end: [958],
						title: "Gorm den gamle",
						description:
							"Gorm den Gamle (antagelig født mellem 908 og 918, død ca. 958), formodentlig søn af Jellingdynastiets grundlægger, Knud 1. Hardeknud Svendsen, der kort efter 900 tog magten i Vestdanmark. Gorm omtales første gang som konge i skriftlige kilder fra 936. Da han døde omkring 958, begravedes han i nordhøjen i Jelling, men blev senere genbegravet i den første trækirke i Jelling. Ifølge indskriften på den lille Jellingesten var han gift med Thyra (Dannebod), og på den store omtales han som Harald 1. Blåtands fader.",
					},
				],
			};
			const timeline = TimelineContainer(timelineContainer, { start: "100bc", end: "now" });
			timeline.add({
				id: crypto.randomUUID(),
				events: data.events.map((item) => ({
					...item,
					type: "timeline",
					renderPreviewNode: (event) => image,
				})),
			});
		</script>
	</body>
</html>
