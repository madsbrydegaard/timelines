(()=>{var Re=Object.defineProperty,$e=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable;var he=(I,M,d)=>M in I?Re(I,M,{enumerable:!0,configurable:!0,writable:!0,value:d}):I[M]=d,G=(I,M)=>{for(var d in M||(M={}))Be.call(M,d)&&he(I,d,M[d]);if(ve)for(var d of ve(M))Fe.call(M,d)&&he(I,d,M[d]);return I},ie=(I,M)=>$e(I,We(M));var fe=(I,M)=>{let d,H,_,V,T,a,y,C,L,S,R,$,w,x,U,ne,j=525948.766,Ee=j/12*18,be=10080*6,De=1440*4,se=e=>"timelineEventDetails"in e,ge=(...e)=>{if(!e)throw new Error("Event argument is empty. Please provide Timeline event(s) as input");ue($,...e),B()},Te=e=>e.timelineEventDetails.startMinutes<A()&&e.timelineEventDetails.endMinutes>K(),Me=(e,t)=>{if(!e)throw new Error("Element argument is empty. DOM element | selector as first arg");if(typeof e=="string"){let c=document.querySelector(e);if(!c)throw new Error(`Selector could not be found [${T}]`);T=c}e instanceof HTMLElement&&(T=e),a=G({labelCount:5,zoomSpeed:.04,dragSpeed:.001,timelineStart:"-1B",timelineEnd:"1M",start:"-100y",end:"now",minZoom:1,maxZoom:1e11,position:"bottom",eventHeight:5,eventSpacing:3,autoZoom:!1,zoomMargin:.1,autoSelect:!1,defaultColor:[140,140,140],zoomDuration:200,easing:"easeOutCubic",numberOfHighscorePreviews:5,highscorePreviewDelay:500,highscorePreviewWidth:100,classNames:{timeline:"tl",timelineEvent:"tl__event",timelinePreview:"tl__preview",timelineEventTitle:"tl__event__title",timelineLabels:"tl__labels",timelineDividers:"tl__dividers",timelineEvents:"tl__events",timelinePreviews:"tl__previews",timelineIo:"tl__io",timelineLabel:"tl__label",timelineDivider:"tl__divider"}},t),$=de({title:"View",type:"container",start:a.start,end:a.end}),_=z(a.timelineStart),V=z(a.timelineEnd);let i=$.timelineEventDetails.startMinutes,n=$.timelineEventDetails.endMinutes;i<_&&(_=i),n>V&&(V=n);let o=n-i;d=Z()/o,H=(_-i)/o,xe(),Le(T),le($,!1)},Z=()=>V-_,J=()=>T.getBoundingClientRect().width||0,A=()=>_-k()*H,K=()=>A()+k(),k=()=>Z()/d,pe=()=>a.zoomSpeed*d,W=e=>(e-A())/k(),ye=(e,t)=>{let i=d-t;return e===1&&i<=a.minZoom||e===-1&&i>=a.maxZoom?!1:(d=i,!0)},re=e=>{let t=H+e;t>=0&&(t=0),t+d<=1&&(t=1-d),H=t},we=(e,t)=>{let i=e*pe(),n=t*i;ye(e,i)&&re(n),B()},Ne=e=>{re(e*a.dragSpeed),B()},le=(e,t=!0,i)=>{if(!e)throw"first argument 'timelineEvent' of method 'zoom' must be an object";if(!se(e))throw"first argument 'timelineEvent' of method 'zoom' must be an object of type ITimelineEventWithDetails";w=e,q(),Q(w.timelineEventDetails.startMinutes,w.timelineEventDetails.endMinutes,t,()=>{E("focus.tl.event"),i&&i(w)})},Ie=()=>{w=$,Q(a.start?z(a.start):w.timelineEventDetails.startMinutes,a.end?z(a.end):w.timelineEventDetails.endMinutes),a.autoSelect&&q()},F=(e,t)=>{let i;for(let n of(t||$).timelineEventDetails.childrenByStartMinute)if(n.title===e||n.timelineEventDetails.id===e){i=n;break}else if(i=F(e,n),i)break;return i},q=e=>{if(!e)x=void 0,E("selected.tl.event");else if(typeof e=="string")if(e==="next"){let t=F(x);if(!t)throw"No timeline selected";x=t.timelineEventDetails.next,E("selected.tl.event",F(x))}else if(e==="previous"){let t=F(x);if(!t)throw"No timeline selected";x=t.timelineEventDetails.previous,E("selected.tl.event",F(x))}else{let t=F(e);if(!t)throw`Cannot find ${e} by title nor timelineEventDetails.id`;x=t.timelineEventDetails.id,E("selected.tl.event",t)}B()},oe=(e,t=!0,i)=>{if(!e)throw"first argument 'timelineEvent' of method 'zoom' must be an object";if(!se(e))throw"first argument 'timelineEvent' of method 'zoom' must be an object of type ITimelineEventWithDetails";Q(e.timelineEventDetails.startMinutes,e.timelineEventDetails.endMinutes,t,()=>{E("zoom.tl.event",e),i&&i(e)})},Q=(e,t,i=!0,n)=>{if(!e)throw"first argument 'startMinutes' of method 'zoomto' must be a number";if(!t)throw"second argument 'endMinutes' of method 'zoomto' must be a number";let o=(t-e)*a.zoomMargin,c=e-o,b=t+o-c,s=Z()/b,r=(_-c)/b;i?(()=>{let u=0,l=a.zoomDuration,D={easeOutExpo:(P,O,X,Y)=>P==Y?O+X:X*(-Math.pow(2,-10*P/Y)+1)+O,easeOutCubic:(P,O,X,Y)=>X*((P=P/Y-1)*P*P+1)+O,easeLinear:(P,O,X,Y)=>X*P/Y+O},g=d,f=H,N=s-d,v=r-H,h=typeof a.easing=="string"?D[a.easing]:a.easing,te=setInterval(()=>{++u>l&&(clearInterval(te),n&&n()),d=h(u,g,N,l),H=h(u,f,v,l),B()},1)})():(d=s,H=r,B(),n&&n())},Le=e=>{let t=[],i,n,o=!1,c=(l,D)=>{if(o){let g=l-i,f=D-n;p(g,f),i=l,n=D}b(l,D)},p=(l,D)=>{l&&Ne(l),E("drag.tl.container")},b=(l,D)=>{let f=document.elementsFromPoint(l,D).find(h=>h.hasAttribute("eventid"));if(!f){e.style.cursor="",e.title="";return}let N=f.getAttribute("eventid"),v=U.find(h=>h.timelineEventDetails.id===N);v&&v.timelineEventDetails.type==="timeline"?(E("hover.tl.event",v),e.style.cursor="pointer",e.title=v.title):(e.style.cursor="",e.title="")},s=(l,D)=>{let f=(l/J()-H)/d;we(D,f),E("pinch.tl.container")},r=l=>{a.autoSelect&&l.detail.timelineEvent&&q(l.detail.timelineEvent.title)},m=l=>{a.autoZoom&&l.detail.timelineEvent&&oe(l.detail.timelineEvent)},u=(l,D)=>{let f=document.elementsFromPoint(l,D).find(h=>h.hasAttribute("eventid"));if(!f)return;let N=f.getAttribute("eventid"),v=U.find(h=>h.timelineEventDetails.id===N);v&&E("click.tl.event",v)};window.addEventListener("resize",l=>{B(),E("resize.tl.container")}),e.addEventListener("wheel",l=>{if(l.defaultPrevented)return;l.preventDefault();var D=Math.sign(l.deltaY);let f=(l.target.attributes.starttime?W(l.target.attributes.starttime):0)*J()+l.offsetX;s(f,D),E("wheel.tl.container")}),e.addEventListener("touchstart",l=>{l.preventDefault(),t=[],t.push(...l.targetTouches),E("touchstart.tl.container")}),e.addEventListener("touchend",l=>{o||u(t[0].clientX,t[0].clientY),o=!1,E("touchend.tl.container")},{passive:!0}),e.addEventListener("touchmove",l=>{if(l.targetTouches.length===2&&l.changedTouches.length===2){let g=t.findIndex(N=>N.identifier===l.targetTouches[0].identifier),f=t.findIndex(N=>N.identifier===l.targetTouches[1].identifier);if(g>=0&&f>=0){let N=Math.abs(t[g].clientX-t[f].clientX),v=Math.abs(l.targetTouches[0].clientX-l.targetTouches[1].clientX),h=N-v,te=Math.min(l.targetTouches[0].clientX,l.targetTouches[1].clientX)+v/2;var D=Math.sign(h);s(te,D)}}if(l.targetTouches.length===1&&l.changedTouches.length===1){let g=t.findIndex(f=>f.identifier===l.targetTouches[0].identifier);g>=0&&l.targetTouches[0].clientX-t[g].clientX!==0&&(o=!0,i=t[g].clientX,n=t[g].clientY,c(l.targetTouches[0].clientX,l.targetTouches[0].clientY))}t=[],t.push(...l.targetTouches),E("touchmove.tl.container")},{passive:!0}),e.addEventListener("mousedown",l=>{i=l.clientX,n=l.clientY,o=!0,E("mousedown.tl.container")},{passive:!0}),e.addEventListener("mousemove",l=>{c(l.clientX,l.clientY),E("mousemove.tl.container")},{passive:!0}),e.addEventListener("mouseup",l=>{o=!1,E("mouseup.tl.container")},{passive:!0}),e.addEventListener("click",l=>u(l.clientX,l.clientY)),e.addEventListener("click.tl.event",r),e.addEventListener("selected.tl.event",m),e.addEventListener("update.tl.container",Pe)},Se=()=>{let e=document.createDocumentFragment(),t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.style.height="100%",t.style.width="100%",t.style.position="absolute",e.append(t);let i=U.filter(n=>!!n.timelineEventDetails.previewNode).sort((n,o)=>o.timelineEventDetails.score-n.timelineEventDetails.score).slice(0,a.numberOfHighscorePreviews).sort((n,o)=>n.timelineEventDetails.startMinutes-o.timelineEventDetails.startMinutes);for(let[n,o]of i.entries()){let c=1/i.length,p=a.highscorePreviewWidth/J(),b=c*n+c/2-p/2,s=Math.random()/3+.08;(()=>{o.timelineEventDetails.previewNode.style.left=b*100+"%",o.timelineEventDetails.previewNode.style.top=s*100+"%";let m=W(o.timelineEventDetails.startMinutes+o.timelineEventDetails.durationMinutes/2);m>1&&(m=W(o.timelineEventDetails.startMinutes+(K()-o.timelineEventDetails.startMinutes)/2)),m<0&&(m=W((A()+o.timelineEventDetails.endMinutes)/2));let u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1",`calc(${(b+p/2)*100}%)`),u.setAttribute("y1",`calc(${s*100}% + 50px)`),u.setAttribute("x2",m*100+"%"),u.setAttribute("y2",o.timelineEventDetails.eventNode.offsetTop+"px"),u.setAttribute("style",`stroke:rgb(${[...o.timelineEventDetails.color,1].join(",")});stroke-width:2`),t.appendChild(u),e.append(o.timelineEventDetails.previewNode)})()}return e},ae=e=>{let t=document.createDocumentFragment();for(let i of e.timelineEventDetails.childrenByStartMinute){if(!i||!i.timelineEventDetails||i.timelineEventDetails.startMinutes>=K()||i.timelineEventDetails.endMinutes<=A())continue;let n=Te(i),o=n?0:W(i.timelineEventDetails.startMinutes),c=n?100:i.timelineEventDetails.durationMinutes/k()*100,p=x===void 0||x===i.timelineEventDetails.id;switch(i.timelineEventDetails.eventNode.style.left=o*100+"%",i.timelineEventDetails.eventNode.style.width=c+"%",i.timelineEventDetails.eventNode.attributes.starttime=n?A():i.timelineEventDetails.startMinutes,i.timelineEventDetails.type){default:{t.append(ae(i));break}case"timeline":{i.timelineEventDetails.eventNode.style.opacity=p?"1":"0.3",t.append(i.timelineEventDetails.eventNode),U.push(i);break}case"background":{i.timelineEventDetails.eventNode.style.zIndex="-1",t.append(i.timelineEventDetails.eventNode);break}}}return t},xe=()=>{switch(T.style.position="relative",T.style.overflow="hidden",T.style.minHeight="3rem",y=document.createElement("div"),T.appendChild(y),y.classList.add(a.classNames.timelineLabels),y.style.width="100%",y.style.height="50px",y.style.textAlign="center",y.style.position="absolute",y.style.pointerEvents="none",y.style.userSelect="none",a.position){case"top":y.style.top="0";break;default:y.style.bottom="0"}C=document.createElement("div"),T.appendChild(C),C.classList.add(a.classNames.timelineDividers),C.style.width="100%",C.style.height="100%",C.style.position="absolute",C.style.zIndex="-2",C.style.bottom="0",L=document.createElement("div"),T.appendChild(L),L.classList.add(a.classNames.timelineEvents),L.style.position="absolute",L.style.bottom="50px",L.style.height="calc(100% - 50px)",L.style.width="100%",L.style.overflowY="auto",L.style.overflowX="hidden",S=document.createElement("div"),T.appendChild(S),S.classList.add(a.classNames.timelinePreviews),S.style.position="absolute",S.style.bottom="50px",S.style.height="calc(100% - 50px)",S.style.width="100%",S.style.overflowY="auto",S.style.overflowX="hidden",R=document.createElement("div"),T.appendChild(R),R.classList.add(a.classNames.timelineIo),R.style.position="absolute",R.style.bottom="0",R.style.top="0",R.style.width="100%"},He=()=>{let e=Math.floor(d),t=Math.pow(2,Math.floor(Math.log2(e))),i=1/(a.labelCount+1),n=A()-_,c=Z()*i/t,b=Math.floor(n/c)*c,s=document.createDocumentFragment(),r=document.createDocumentFragment();for(let m=0;m<a.labelCount+2;m++){let u=(m+1)*c+_+b-c,l=u+c/2,g=W(u)*100,N=W(l)*100,v=document.createElement("div");v.classList.add(a.classNames.timelineLabel),v.style.left=g+"%",v.style.top="50%",v.style.transform="translate(calc(-50%), calc(-50%))",v.style.textAlign="center",v.style.position="absolute",v.style.zIndex="-1",v.style.width=i*100+"%",v.innerHTML=ee(u),s.appendChild(v);let h=document.createElement("div");h.classList.add(a.classNames.timelineDivider),h.style.left=N+"%",h.style.textAlign="center",h.style.position="absolute",h.style.height="100%",h.style.zIndex="-10",h.innerHTML="",r.appendChild(h)}y.appendChild(s),C.appendChild(r)},Ce=()=>{let e=ae(w);e&&L.appendChild(e)},_e=()=>{let e=Se();e&&S.appendChild(e)},ee=e=>{let t=Math.floor(e/j),i=t+1970,o=i>-1e4&&i<1e4?i.toString():i.toLocaleString("en-US",{notation:"compact",minimumFractionDigits:1,maximumFractionDigits:1}),c=Math.abs(e-t*j),b=e>27e4*j*-1&&e<27e4*j?new Date(e*6e4):new Date(c*6e4);return k()<De?[Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(b),o,Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric"}).format(b)].join(" "):k()<be?[Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(b),o].join(" "):k()<Ee?[Intl.DateTimeFormat(void 0,{month:"short"}).format(b),o].join(" "):o},B=()=>{!T||!w||(C.innerHTML="",y.innerHTML="",L.innerHTML="",S.innerHTML="",U=[],E("update.tl.container"))},Pe=()=>{He(),Ce(),a.numberOfHighscorePreviews>0&&!x&&(clearTimeout(ne),ne=setTimeout(()=>{_e()},a.highscorePreviewDelay))},z=e=>{if(e===void 0)return;let t=n=>{let o=new Date;return o.setDate(n[2]?n[2]:1),o.setMonth(n[1]?n[1]-1:0),o.setHours(n[3]?n[3]:0),o.setMinutes(n[4]?n[4]:0),o.setSeconds(0),n[0]?n[0]&&n[0]>-27e4&&n[0]<27e4?(o.setFullYear(n[0]),o.getTime()/6e4):525948.766*n[0]+o.getTime()/6e4:o.getTime()/6e4},i=n=>{switch(n){case"now":return t([]);default:let o=n.match(/y$/)?Number(n.replace(/y$/,"")):NaN;if(!isNaN(o))return t([o+1970]);let c=n.match(/K$/)?Number(n.replace(/K$/,"")):NaN;if(!isNaN(c))return t([c*1e3]);let p=n.match(/M$/)?Number(n.replace(/M$/,"")):NaN;if(!isNaN(p))return t([p*1e6]);let b=n.match(/B$/)?Number(n.replace(/B$/,"")):NaN;if(!isNaN(b))return t([b*1e9]);let s=n.match(/bc$/)?Number(n.replace(/bc$/,"")):NaN;if(!isNaN(s))return t([-s]);let r=n.match(/ad$/)?Number(n.replace(/ad$/,"")):NaN;if(!isNaN(r))return t([r]);let m=Number(n);if(!isNaN(m))return new Date().getTime()/6e4+m*6e4;let u=Date.parse(n);return isNaN(u)?new Date().getTime()/6e4:u/6e4}};if(Array.isArray(e)){let n=e;if(n.length===0)throw new Error("argument Array cannot be empty");if(!n.every(c=>typeof c=="number"))throw new Error("input Array must contain only numbers");return t(n)}if(typeof e=="object"&&e.constructor.name==="Date")return e.getTime()/6e4;if(typeof e=="string")return i(e);if(typeof e=="number")return new Date(e).getTime()/6e4},Ae=e=>{if(e!==void 0){if(typeof e=="string"){let t=e.match(/s$/)?Number(e.replace(/s$/,"")):NaN;if(!isNaN(t))return t/60;let i=e.match(/H$/)?Number(e.replace(/H$/,"")):NaN;if(!isNaN(i))return i*60;let n=e.match(/d$/)?Number(e.replace(/d$/,"")):NaN;if(!isNaN(n))return n*24*60;let o=e.match(/w$/)?Number(e.replace(/w$/,"")):NaN;if(!isNaN(o))return o*7*24*60;let c=Number(e);if(!isNaN(c))return c}if(typeof e=="number")return e}},me=e=>e.timelineEventDetails.startMinutes?e.timelineEventDetails.childrenByStartMinute.length?Math.min(e.timelineEventDetails.startMinutes,e.timelineEventDetails.childrenByStartMinute[0].timelineEventDetails.startMinutes):e.timelineEventDetails.startMinutes:e.timelineEventDetails.childrenByStartMinute.length?e.timelineEventDetails.childrenByStartMinute[0].timelineEventDetails.startMinutes:void 0,ce=e=>e.timelineEventDetails.endMinutes?e.timelineEventDetails.endMinutes:e.timelineEventDetails.durationMinutes?e.timelineEventDetails.startMinutes+e.timelineEventDetails.durationMinutes:e.timelineEventDetails.childrenByStartMinute.length?Math.max.apply(1,e.timelineEventDetails.childrenByStartMinute.map(t=>t.timelineEventDetails.endMinutes)):e.timelineEventDetails.startMinutes+1,ue=(e,...t)=>{let i=t.map(s=>de(s,e)).filter(s=>!!s).sort((s,r)=>s.timelineEventDetails.startMinutes-r.timelineEventDetails.startMinutes),n=s=>{let r=0;for(let m in e.timelineEventDetails.timelineLevelMatrix)if(r=Number(m),s.timelineEventDetails.startMinutes>e.timelineEventDetails.timelineLevelMatrix[m].time){for(let u=0;u<s.timelineEventDetails.height;u++)e.timelineEventDetails.timelineLevelMatrix[(r+u).toString()]={height:s.timelineEventDetails.height,time:s.timelineEventDetails.endMinutes};return r}r+=1;for(let m=0;m<s.timelineEventDetails.height;m++)e.timelineEventDetails.timelineLevelMatrix[(r+m).toString()]={height:s.timelineEventDetails.height,time:s.timelineEventDetails.endMinutes};return r},o=s=>{let r=0;for(let m in w.timelineEventDetails.backgroundLevelMatrix)if(r=Number(m),s.timelineEventDetails.startMinutes>=w.timelineEventDetails.backgroundLevelMatrix[m].time)return w.timelineEventDetails.backgroundLevelMatrix[r.toString()]={height:s.timelineEventDetails.height,time:s.timelineEventDetails.endMinutes},r;return r+=1,w.timelineEventDetails.backgroundLevelMatrix[r.toString()]={height:s.timelineEventDetails.height,time:s.timelineEventDetails.endMinutes},r},c=s=>s.timelineEventDetails.durationMinutes/e.timelineEventDetails.durationMinutes*(s.timelineEventDetails.childrenByStartMinute.length+1),p=s=>{let r=document.createElement("div");switch(s.timelineEventDetails.type){case"timeline":{let m=s.timelineEventDetails.level*a.eventSpacing,u=(s.timelineEventDetails.level-1)*a.eventHeight;r.style.bottom=`${m+u}px`,r.style.minHeight=`${a.eventHeight}px`,r.style.cursor="pointer",r.style.borderRadius="5px",r.style.backgroundColor=`rgba(${[...s.timelineEventDetails.color,1].join(",")})`,r.title=s.title}break;case"background":{let m=(s.timelineEventDetails.level-1)*25;r.style.bottom="0",r.style.top=`${m}px`}break;default:}if(r.style.boxSizing="border-box",r.style.position="absolute",r.style.minWidth="5px",r.style.overflow="hidden",r.classList.add(a.classNames.timelineEvent),r.setAttribute("level",s.timelineEventDetails.level.toString()),r.setAttribute("depth",s.timelineEventDetails.depth.toString()),r.setAttribute("score",s.timelineEventDetails.score.toString()),r.setAttribute("eventid",s.timelineEventDetails.id),s.renderEventNode){let m=s.renderEventNode(s);m.style.display="contents",r.append(m)}return r},b=s=>{if(!s.renderPreviewNode)return;let r=document.createElement("div");return r.style.boxSizing="border-box",r.style.position="absolute",r.style.overflow="hidden",r.style.width=a.highscorePreviewWidth+"px",r.title=s.title,r.classList.add(a.classNames.timelinePreview),r.setAttribute("eventid",s.timelineEventDetails.id),r.append(s.renderPreviewNode(s)),r};e.timelineEventDetails.childrenByStartMinute.push(...i),e.timelineEventDetails.startMinutes=me(e),e.timelineEventDetails.endMinutes=ce(e),e.timelineEventDetails.durationMinutes=e.timelineEventDetails.endMinutes-e.timelineEventDetails.startMinutes,e.timelineEventDetails.childrenByStartMinute.forEach((s,r)=>{switch(s.timelineEventDetails.score=["timeline"].includes(s.timelineEventDetails.type)?c(s):0,s.timelineEventDetails.type){case"container":case"timeline":s.timelineEventDetails.level=n(s);break;case"background":s.timelineEventDetails.level=o(s);break;default:s.timelineEventDetails.level=0}s.timelineEventDetails.eventNode=p(s),s.timelineEventDetails.previewNode=b(s),s.timelineEventDetails.next=e.timelineEventDetails.childrenByStartMinute.length>r+1?e.timelineEventDetails.childrenByStartMinute[r+1].timelineEventDetails.id:void 0,s.timelineEventDetails.previous=r>0?e.timelineEventDetails.childrenByStartMinute[r-1].timelineEventDetails.id:void 0}),e.timelineEventDetails.height=Object.entries(e.timelineEventDetails.timelineLevelMatrix).length},de=(e,t)=>{if(!e){console.warn("Event object is empty");return}let i=ie(G({},e),{timelineEventDetails:{id:crypto.randomUUID(),type:e.type||e.start?e.type||"timeline":"wrapper",level:0,step:0,score:0,height:1,childrenByStartMinute:[],childrenByScore:[],depth:t?t.timelineEventDetails.depth+1:0,parentId:t==null?void 0:t.timelineEventDetails.id,color:(e.color||a.defaultColor).slice(0,3),highlightedColor:(e.highlightedColor||a.defaultColor).slice(0,3),startMinutes:z(e.start),endMinutes:z(e.end),durationMinutes:Ae(e.duration)||0,timelineLevelMatrix:{1:{height:0,time:Number.MIN_SAFE_INTEGER}},backgroundLevelMatrix:{1:{height:0,time:Number.MIN_SAFE_INTEGER}}}});if(t&&i.timelineEventDetails.type==="timeline"&&t.timelineEventDetails.type==="wrapper"&&(t.timelineEventDetails.type="container"),e.events&&e.events.length&&ue(i,...e.events),i.timelineEventDetails.startMinutes=me(i),!i.timelineEventDetails.startMinutes){console.warn("Missing start property on event - skipping",e);return}return i.timelineEventDetails.endMinutes=ce(i),i.timelineEventDetails.durationMinutes=i.timelineEventDetails.endMinutes-i.timelineEventDetails.startMinutes,i},ke=e=>{let t=[],i=e.querySelectorAll(".timelineEvent");return i&&i.forEach(n=>{try{t.push(ie(G({},n.attributes),{events:ke(n)}))}catch(o){console.error(o,"timelineEvent")}}),t},E=(e,t)=>{T.dispatchEvent(new CustomEvent(e,{detail:{name:e,options:a,timelineEvent:t,viewStartDate:ee(A()),viewEndDate:ee(K()),viewDuration:k(),ratio:d,pivot:H},bubbles:!1,cancelable:!0,composed:!1}))};return Me(I,M),{focus:le,zoom:oe,add:ge,reset:Ie,select:q}};window.TimelineContainer=fe;})();
